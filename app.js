import{initializeApp}from"https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";import{getAuth,signInWithEmailAndPassword}from"https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";import{getFirestore,doc,getDoc,setDoc}from"https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";import{firebaseConfig}from"./firebase-config.js";const app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app);document.getElementById("loginForm").addEventListener("submit",(async e=>{e.preventDefault();const t=document.getElementById("email").value,s=document.getElementById("password").value;if(t.endsWith("@cyberwolves.org"))try{await signInWithEmailAndPassword(auth,t,s);const e=Math.random().toString(36).substring(2,10).toUpperCase(),i=doc(db,"server_password","current");await setDoc(i,{password:e});const a=await getDoc(i);if(a.exists()){const e=a.data(),t=e.password,s=e.invite||"Invite link not set.";document.getElementById("result").innerHTML=`\n        <div>âœ… OTP: <strong>${t}</strong></div>\n        <div>ðŸ”— <a href="${s}" target="_blank" class="text-blue-400 underline">Join Discord Server</a></div>\n      `}}catch(e){alert("Authentication failed.")}else alert("Only cyberwolves.org emails are allowed.")}));